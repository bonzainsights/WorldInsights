<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="{% block meta_description %}WorldInsights - Global Data Intelligence Platform for Researchers and Analysts{% endblock %}"
    />
    <title>
      {% block title %}WorldInsights - Global Data Intelligence{% endblock %}
    </title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Main Stylesheet -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/main.css') }}"
    />
    {% block extra_css %}{% endblock %}
  </head>

  <body>
    <!-- Navigation -->
    <nav class="navbar">
      <div class="container">
        <div class="nav-wrapper">
          <a href="/" class="logo">
            <span class="logo-icon">üåç</span>
            <span class="logo-text">WorldInsights</span>
          </a>

          <button class="mobile-menu-toggle" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
          </button>

          <div class="nav-links">
            <a
              href="/"
              class="nav-link {% if request.endpoint == 'index' %}active{% endif %}"
              >Home</a
            >
            <a
              href="/explore"
              class="nav-link {% if request.endpoint == 'explore' %}active{% endif %}"
              >Explore Data</a
            >
            <a
              href="/visualizations"
              class="nav-link {% if request.endpoint == 'visualizations' %}active{% endif %}"
              >Visualizations</a
            >
            <a
              href="/insights"
              class="nav-link {% if request.endpoint == 'insights' %}active{% endif %}"
              >Insights</a
            >
            <a
              href="/about"
              class="nav-link {% if request.endpoint == 'about' %}active{% endif %}"
              >About</a
            >
            <a
              href="/pricing"
              class="nav-link {% if request.endpoint == 'pricing' %}active{% endif %}"
              >Pricing</a
            >
            {% if current_user.is_authenticated %}
            <div class="user-dropdown">
              <button
                class="user-dropdown-toggle nav-link btn-login"
                id="userDropdownBtn"
              >
                {{ current_user.username }} ‚ñæ
              </button>
              <div class="user-dropdown-menu" id="userDropdownMenu">
                <a href="{{ url_for('auth.profile') }}" class="dropdown-item"
                  >Profile</a
                >
                {% if current_user.is_admin() %}
                <a
                  href="{{ url_for('auth.admin_dashboard') }}"
                  class="dropdown-item"
                  >Admin Dashboard</a
                >
                {% endif %}
                <a href="{{ url_for('auth.logout') }}" class="dropdown-item"
                  >Logout</a
                >
              </div>
            </div>
            {% else %}
            <a href="{{ url_for('auth.login') }}" class="nav-link btn-login"
              >Login</a
            >
            {% endif %}
          </div>
        </div>
      </div>
    </nav>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %}
    <div class="flash-messages-container">
      <div class="container">
        {% for category, message in messages %}
        <div class="flash-message flash-{{ category }}">{{ message }}</div>
        {% endfor %}
      </div>
    </div>
    {% endif %} {% endwith %}

    <!-- Main Content -->
    <main>{% block content %}{% endblock %}</main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-col">
            <h3>WorldInsights</h3>
            <p>
              Your trusted platform for global data intelligence and research.
            </p>
            <div class="footer-social">
              <a href="#" aria-label="Twitter">ùïè</a>
              <a href="#" aria-label="GitHub">GitHub</a>
              <a href="#" aria-label="LinkedIn">LinkedIn</a>
            </div>
          </div>

          <div class="footer-col">
            <h4>Platform</h4>
            <ul>
              <li><a href="/explore">Explore Data</a></li>
              <li><a href="/visualizations">Visualizations</a></li>
              <li><a href="/insights">Insights</a></li>
              <li><a href="/api">API Documentation</a></li>
            </ul>
          </div>

          <div class="footer-col">
            <h4>Data Sources</h4>
            <ul>
              <li><a href="#">World Bank</a></li>
              <li><a href="#">FAO</a></li>
              <li><a href="#">WHO</a></li>
              <li><a href="#">NASA/NOAA</a></li>
            </ul>
          </div>

          <div class="footer-col">
            <h4>Resources</h4>
            <ul>
              <li><a href="/about">About Us</a></li>
              <li><a href="/docs">Documentation</a></li>
              <li><a href="#">Research Papers</a></li>
              <li><a href="/contact">Contact</a></li>
            </ul>
          </div>
        </div>

        <div class="footer-bottom">
          <p>
            &copy; 2025 WorldInsights. Built for researchers, by researchers.
          </p>
          <p class="footer-meta">
            <a href="#">Privacy Policy</a> ‚Ä¢ <a href="#">Terms of Service</a> ‚Ä¢
            <a href="#">Data Usage Policy</a>
          </p>
        </div>
      </div>
    </footer>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    {% block extra_js %}{% endblock %}
  </body>
</html>
